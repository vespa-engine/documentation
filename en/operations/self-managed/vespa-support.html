---
# Copyright Vespa.ai. All rights reserved.
title: "Vespa Support CLI"
applies_to: self-managed
---

<p>
  The Vespa Enterprise image includes a built-in command-line tool called <code>vespa-support</code>.
  It is designed to simplify the process of collecting diagnostic information from your deployment,
  making it easier to request and receive support from the Vespa team.
</p>
<p>You should run this tool whenever you are:</p>
<ul>
  <li>Experiencing unexpected behaviour or degraded performance in your Vespa deployment</li>
  <li>Preparing to open or respond to a Vespa support ticket</li>
  <li>Asked by Vespa support to provide diagnostic information</li>
</ul>



<h2 id="accessing-the-tool">Accessing the Tool</h2>
<p>
  <code>vespa-support</code> is available in the shell of any running Vespa Enterprise container.
  To access it, open a shell session into the container using your platform's standard method,
  then verify the tool is available:
</p>
<pre>
$ vespa support --help
</pre>
<p>To confirm the tool version and the container version:</p>
<pre>
$ vespa support version
</pre>



<h2 id="commands">Commands</h2>

<h3 id="version">vespa support version</h3>
<p>
  Prints the version of the <code>vespa-support</code> tool and the Vespa Enterprise container version.
</p>

<h3 id="diagnostics-sysinfo">vespa support diagnostics sysinfo</h3>
<p>
  Collects host-level system information from the node where the command is run.
  <code>--dest-dir</code> is required. The command will fail if it is not provided.
</p>
<pre>
$ vespa support diagnostics sysinfo --dest-dir &lt;output-directory&gt;
</pre>

<h3 id="diagnostics-application">vespa support diagnostics application</h3>
<p>
  Collects the currently deployed Vespa application package configuration.
  <code>--dest-dir</code> is required. The command will fail if it is not provided.
</p>
<pre>
$ vespa support diagnostics application --dest-dir &lt;output-directory&gt;
</pre>



<h2 id="options">Options</h2>
<p>The following options apply to all <code>diagnostics</code> subcommands.</p>
<table class="table">
  <thead>
    <tr>
      <th>Option</th>
      <th>Required</th>
      <th>Default</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>--dest-dir</code></td>
      <td>Yes</td>
      <td>â€”</td>
      <td>Directory where the diagnostic output files will be written.</td>
    </tr>
    <tr>
      <td><code>--config-server-host</code></td>
      <td>No</td>
      <td>Auto-detected</td>
      <td>Host address of the Vespa config server. If not set, the tool resolves it automatically from the environment.</td>
    </tr>
    <tr>
      <td><code>--config-server-port</code></td>
      <td>No</td>
      <td>19071</td>
      <td>Port of the Vespa config server.</td>
    </tr>
    <tr>
      <td><code>--timeout-secs</code></td>
      <td>No</td>
      <td>60</td>
      <td>Timeout in seconds for operations that contact the config server.</td>
    </tr>
  </tbody>
</table>



<h2 id="what-is-collected">What Is Collected</h2>

<h3 id="sysinfo-output">sysinfo</h3>
<p>
  The output is written as a ZIP file named <code>diag-sysinfo.zip</code> in the specified destination directory.
  It contains the following information about the host:
</p>
<ul>
  <li>Vespa version</li>
  <li>Hostname, operating system, kernel version, and CPU architecture</li>
  <li>CPU model and core count</li>
  <li>Memory usage (total, free, and available)</li>
  <li>Disk usage per mounted filesystem (size, free space, usage percentage)</li>
  <li>Network interfaces, routing table, DNS servers, and firewall rules as seen from within the container</li>
</ul>

<h3 id="application-output">application</h3>
<p>
  The output is written as a ZIP file named <code>diag-application.zip</code> in the specified destination directory.
  It contains the full Vespa application package as currently deployed, preserving the original directory structure.
</p>



<h2 id="creating-a-support-bundle">Creating a Support Bundle</h2>
<p>
  The following steps walk you through collecting a complete set of diagnostic files
  to share with the Vespa support team.
</p>
<p><strong>1. Open a shell session into the Vespa Enterprise container.</strong></p>
<p><strong>2. Create a directory to store the output:</strong></p>
<pre>
$ mkdir /tmp/vespa-diagnostics
</pre>
<p><strong>3. Collect system information:</strong></p>
<pre>
$ vespa support diagnostics sysinfo --dest-dir /tmp/vespa-diagnostics
</pre>
<p><strong>4. Collect application diagnostics:</strong></p>
<pre>
$ vespa support diagnostics application --dest-dir /tmp/vespa-diagnostics
</pre>
<p><strong>5. Verify the output:</strong></p>
<pre>
$ ls /tmp/vespa-diagnostics
diag-sysinfo.zip
diag-application.zip
</pre>
<p>
  Once complete, copy the ZIP files from the container and attach them to your support ticket.
</p>



<h2 id="sharing-with-vespa-support">Sharing with Vespa Support</h2>
<p>
  Attach the ZIP files generated in the previous step to your Vespa support ticket.
  If you have not yet opened a ticket, include the files when submitting your request.
</p>
<p>
  If the files are too large to attach directly, the Vespa support team will provide an alternative upload method.
</p>
