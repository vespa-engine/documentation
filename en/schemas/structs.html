---
# Copyright Vespa.ai. All rights reserved.
title: "Structs"
redirect_from:
- /en/structs.html
---

<p>This document explains how to use structs in Vespa documents.</p>

<h2 id="structs">Structs</h2>

<p>A <a href="../reference/applications/schemas.html#struct">struct</a>
is contained in a document and groups one or more fields into
a composite type that can be accessed like a single field.</p>

Example:
<pre>
    struct email {
        field sender type string {}
        field recipient type string {}
        field subject type string {}
        field content type string {}
    }

    field emails type array&lt;email&gt; {}
</pre>

<p>
In this example the struct is part of an
<a href="../reference/applications/schemas.html#array">array</a>.
A struct can also be used in a <a href="../reference/applications/schemas.html#map">map</a>.
</p>


<h2 id="struct-fields">Struct fields</h2>

<p>
A <a href="../reference/applications/schemas.html#struct-field">struct-field</a>
defines how a given field in a struct should be indexed and searched.
</p>
<p>
Note that though a struct-field refers to a field in a struct, the struct-field itself is defined inside a field.
</p>

<p>
Using the <em>email</em> struct defined previously (see <a href="../reference/applications/schemas.html#struct">struct</a>),
we can define indexing for a specific field, like <em>content</em>:
</p>

<pre>
    field emails type array&lt;email&gt; {
        indexing: summary
        struct-field content {
            indexing: attribute
            attribute: fast-search
        }
    }
</pre>

<p>The equivalent code (including the struct definition) in Pyvespa is as follows:</p>
<pre>
    email_struct = Struct(name="email", fields=[
      Field(name="sender", type="string"),
      Field(name="recipient", type="string"),
      Field(name="subject", type="string"),
      Field(name="content", type="string"),
    ])
    emails_field = Field(name="emails",
                    type="array&lt;email&gt;",
                    indexing=["summary"],
                    struct_fields=[StructField(name="content", indexing=["attribute"], attribute=["fast-search"])]
    )
    schema = Schema(name="schema", document=Document())
    schema.add_fields(emails_field)
    schema.document.add_structs(email_struct)
</pre>

