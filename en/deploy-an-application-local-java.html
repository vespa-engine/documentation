---
# Copyright Vespa.ai. All rights reserved.
title: Deploy an application having Java components locally
redirect_from:
- /en/vespa-getting-started-java.html
---


<p>Follow these steps to deploy a Vespa application having Java components on your own machine.</p>

<p>Alternative versions of this guide:</p>
<ul>
  <li><a href="https://pyvespa.readthedocs.io/en/latest/getting-started-pyvespa-cloud.html">Deploy an application using pyvespa</a> -
    for Python developers</li>
  <li><a href="deploy-an-application.html">Deploy an application</a></li>
  <li><a href="deploy-an-application-java.html">Deploy an application having Java components</a></li>
  <li><a href="deploy-an-application-shell.html">Deploy an application without Vespa CLI</a></li>
  <li><a href="deploy-an-application-local.html">Deploy an application without Java components locally</a>.</li>
</ul>

<p>This is tested with <em>vespaengine/vespa:{{site.variables.vespa_version}}</em> container image.</p>

<br/>

{% include pre-req.html memory="4 GB" extra-reqs='
<li><a href="https://openjdk.org/projects/jdk/17/" data-proofer-ignore>Java 17</a>.</li>
<li><a href="https://maven.apache.org/install.html">Apache Maven</a> is used to build the application.</li>' %}

<p>Steps:</p>

<ol class="howto">
  <li>
    <p><strong>Validate the environment:</strong></p>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
      <pre>
$ docker info | grep "Total Memory"
or
$ podman info | grep "memTotal"
</pre>
    </div>
    <p>Make sure you see at minimum 4 GB.</p>
  </li>

  <li>
    <p><b>Install the <a href="/en/vespa-cli.html">Vespa CLI</a></b>
    using <a href="https://brew.sh/">Homebrew</a>:</p>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
      <pre>
$ brew install vespa-cli
</pre>
    </div>
    <p>Windows/No Homebrew? See the <a href="/en/vespa-cli.html">Vespa CLI page</a> to download directly.</p>
  </li>

  <li>
    <p><strong>Set local target:</strong></p>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
<pre data-test="exec">
$ vespa config set target local
</pre>
    </div>
  </li>

  <li>
    <p><strong>Start a Vespa Docker container:</strong></p>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
<pre data-test="exec">
$ docker run --detach --name vespa --hostname vespa-container \
  --publish 8080:8080 --publish 19071:19071 \
  vespaengine/vespa
</pre>
    </div>
    <p>
      The port <code>8080</code> is published to make the query and feed endpoints
      accessible from outside the docker container,
      19071 is the config server endpoint.
      Only one docker container named <code>vespa</code> can run at a time, change the name as needed.
      See <a href="/en/operations-selfhosted/docker-containers.html">Docker containers</a> for more insights.
    </p>
  </li>

  <li>
    <p><b>Clone a sample <a href="applications.html">application</a>:</b></p>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
<pre data-test="exec">
$ vespa clone album-recommendation-java myapp &amp;&amp; cd myapp
</pre>
    </div>
  </li>

  <li>
    <p><strong>Build it:</strong></p>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
<pre data-test="exec">
$ mvn install
</pre>
    </div>
  </li>

  <li>
    <p><b><a href="applications.html#deploying-applications">Deploy</a> the application:</b></p>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
<pre data-test="exec"  data-test-assert-contains="Success">
$ vespa deploy --wait 300
</pre>
    </div>
  </li>

  <li>
    <p><b><a href="reads-and-writes.html">Feed</a> <a href="documents.html">documents</a>:</b></p>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
      <pre data-test="exec">
$ vespa feed dataset/documents.jsonl
</pre>
    </div>
  </li>

  <li>
    <p><b>Run <a href="/en/query-api.html">queries</a>:</b></p>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
      <pre data-test="exec" data-test-assert-contains="Head">
$ vespa query "select * from music where album contains 'head'"
</pre>
    </div>
    <div class="pre-parent">
      <button class="d-icon d-duplicate pre-copy-button" onclick="copyPreContent(this)"></button>
      <pre data-test="exec" data-test-assert-contains="Head">{% raw %}
$ vespa query \
  "select * from music where true" \
  "ranking=rank_albums" \
  "ranking.features.query(user_profile)={{cat:pop}:0.8,{cat:rock}:0.2,{cat:jazz}:0.1}"
{% endraw %}</pre>
    </div>
  </li>
</ol>

<br/>

<p>Congratulations, you have deployed your first Vespa application!</p>


<h2 id="next-steps">Next steps</h2>

<ul>
  <li>Read the <a href="https://docs.vespa.ai/en/developer-guide">developer guide</a>.
  <li><a href="cloud/production-deployment.html">Set up deployment to production</a>.</li>
  <li>Go to the <a href="/">Vespa documentation</a>.</li>
  <li>Follow the <a href="https://blog.vespa.ai/">Vespa Blog</a> for product updates and use cases.</li>
</ul>


<pre style="display:none" hidden data-test="after">
$ docker rm -f vespa
</pre>
