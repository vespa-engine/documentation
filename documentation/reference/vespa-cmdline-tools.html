---
# Copyright 2017 Yahoo Holdings. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.
title: "Vespa Command-line Tools"
---

<p>
This is the reference for the Vespa command-line tools.
</p>

<!--h2 id="vespa-attribute-inspect">vespa-attribute-inspect</h2-->
<!--h2 id="vespa-config-ctl">vespa-config-ctl</h2-->
<!--h2 id="vespa-config-loadtester">vespa-config-loadtester</h2-->



<h2 id="vespa-configproxy-cmd">vespa-configproxy-cmd</h2>
<p>
<em>vespa-configproxy-cmd</em> is a status and control tool for the
<a href="config-proxy.html">config proxy</a>.
The config proxy runs on all nodes as a proxy for one or more
<a href="../cloudconfig/configuration-server.html">config servers</a>.
It connects to the config proxy on localhost by default.
</p><p>
Synopsis: <code>vespa-configproxy-cmd -m method [args]</code>
</p><p>
Example:
<pre>
$ vespa-configproxy-cmd -m sources
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-m</th>
      <td>
        method, available methods are:
        <table class="table">
          <thead></thead><tbody>
            <tr>
              <th>cache</th>
              <td>
                Output the config proxy cache content (overview)
              </td>
            </tr><tr>
              <th>gc</th>
              <td>
                <!-- ToDo -->
              </td>
            </tr><tr>
              <th>dumpcache</th>
              <td>
                <!-- ToDo -->
              </td>
            </tr><tr>
              <th>statistics</th>
              <td>
                <!-- ToDo -->
              </td>
            </tr><tr>
              <th>heap</th>
              <td>
                <!-- ToDo -->
              </td>
            </tr><tr>
              <th>getConfig</th>
              <td>
                Get config (see <a href="#vespa-get-config">vespa-get-config</a>)
              </td>
            </tr><tr>
              <th>getmode</th>
              <td>
                Outputs the current mode of the config proxy
              </td>
            </tr><tr>
              <th>setmode</th>
              <td>
                Use <em>default</em> or <em>memorycache</em> -
                <a href="config-proxy.html">example</a>
              </td><!-- ToDo need a list here - are more options supported? -->
            </tr><tr>
              <th>invalidatecache</th>
              <td>
                Clears the current cache in config proxy
              </td>
            </tr><tr>
              <th>cachefull</th>
              <td>
                Output the config proxy cache content (including config payload)
              </td>
            </tr><tr>
              <th>sources</th>
              <td>
                Output the config proxy's upstream config sources
              </td>
            </tr><tr>
              <th>updatesources</th>
              <td>
                Updates the config proxy's upstream config sources to the supplied ones
              </td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr><tr>
      <th>-p</th>
      <td>
        port number, optional
      </td>
    </tr><tr>
      <th>-s</th>
      <td>
        hostname, optional
      </td>
    </tr><tr>
      <th>-h</th>
      <td>
        help text and usage
      </td>
    </tr>
  </tbody>
</table>
</p>



<h2 id="vespa-configserver-remove-state">vespa-configserver-remove-state</h2>
<p>
<em>vespa-configserver-remove-state</em> removes config server state on the host.
</p><p>
Synopsis: <code>vespa-configserver-remove-state [-force]</code>
</p><p>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-force</th>
      <td>Do not ask for confirmation before removal</td>
    </tr>
  </tbody>
</table>
</p>



<h2 id="vespa-config-status">vespa-config-status</h2>
<p>
<em>vespa-config-status</em> can run on any machine in a Vespa cluster
and outputs a list of all running services which is running with an outdated application package.
It can be invoked without any arguments, or with optional arguments.
</p><p>
Synopsis: <code>vespa-config-status [-v] [-c host] [-c host:port]  [-f host0,...,hostN]</code>
</p><p>
Example:
<pre>
$ vespa-config-status
</pre>
</p><p>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-v</th>
      <td>Verbose - show all services, even if they are up to date</td>
    </tr><tr>
      <th>-c arg</th>
      <td>Get Vespa cluster configuration from the config server specified by host and port.
        Use <em>host</em> or <em>host:port</em> for config server</td>
    </tr><tr>
      <th>-f</th>
      <td>Filter to only query config status for the given comma-separated set of hosts</td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-config-verification">vespa-config-verification</h2-->
<!--h2 id="vespa-create-idx-from-dat">vespa-create-idx-from-dat</h2-->



<h2 id="vespa-deploy">vespa-deploy</h2>
<p>
<em>vespa-deploy</em> deploys an application package,
using the <a href="../cloudconfig/deploy-rest-api-v2.html">deploy API</a>.
Refer to the <a href="application-packages-reference.html#deploy">deploy reference</a> for details.
</p><p>
Synopsis: <code>vespa-deploy [-h] [-v] [-n] [-f] [-t timeout] [-c hostname] [-p port] prepare|activate|upload|fetch|help [args]</code>
</p><p>
Example:
<pre>
$ vespa-deploy prepare [application-path] &amp;&amp; vespa-deploy activate
</pre>
Commands:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>prepare</th>
      <td>
        <em>vespa-deploy prepare</em> combines the
        <a href="../cloudconfig/deploy-rest-api-v2.html#create-session">upload</a> and
        <a href="../cloudconfig/deploy-rest-api-v2.html#prepare-session">prepare</a> steps.
      </td>
    </tr><tr>
      <th>activate</th>
      <td>
        <em>vespa-deploy activate</em> invokes the
        <a href="../cloudconfig/deploy-rest-api-v2.html#activate-session">activate</a> step.
      </td>
    </tr><tr>
      <th>upload</th>
      <td>
        <em>vespa-deploy upload</em> uploads an application package
      </td>
    </tr><tr>
      <th>fetch</th>
      <td>
        <em>vespa-deploy fetch</em> fetches an application package.
        Useful to get the active configuration for an instance.
      </td>
    </tr><tr>
      <th>help</th>
      <td>
        Same as <strong>-h</strong>
      </td>
    </tr>
  </tbody>
</table>
</p>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-h</th>
      <td>
        Show help text
      </td>
    </tr><tr>
      <th>-v</th>
      <td>
        Verbose
      </td>
    </tr><tr>
      <th>-n</th>
      <td>
        Dry-run deployment
      </td>
    </tr><tr>
      <th>-f</th>
      <td>
        Force - ignore validation errors
      </td>
    </tr><tr>
      <th>-t</th>
      <td>
        Timeout
      </td>
    </tr><tr>
      <th>-c</th>
      <td>
        Config server hostname
      </td>
    </tr><tr>
      <th>-p</th>
      <td>
        Config server port
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-destination">vespa-destination</h2-->
<!--h2 id="vespa-doclocator">vespa-doclocator</h2-->
<!--h2 id="vespa-document-statistics">vespa-document-statistics</h2-->
<!--h2 id="vespa-documentstore-benchmark">vespa-documentstore-benchmark</h2-->
<!--h2 id="vespa-documentstore-inspect">vespa-documentstore-inspect</h2-->
<!--h2 id="vespa-eval-expr">vespa-eval-expr</h2-->
<!--h2 id="vespa-expand-config.pl">vespa-expand-config.pl</h2-->
<!--h2 id="vespa-external-providerproxy-conformancetest">vespa-external-providerproxy-conformancetest</h2-->
<!--h2 id="vespa-fbench">vespa-fbench</h2-->
<!--h2 id="vespa-fbench-filter-file">vespa-fbench-filter-file</h2-->
<!--h2 id="vespa-fbench-geturl">vespa-fbench-geturl</h2-->
<!--h2 id="vespa-fbench-result-filter.pl">vespa-fbench-result-filter.pl</h2-->
<!--h2 id="vespa-fbench-split-file">vespa-fbench-split-file</h2-->



<h2 id="vespa-feeder">vespa-feeder</h2>
<p>
<em>vespa-feeder</em> is a feeding client that parses
<a href="http://docs.vespa.ai/documentation/reference/document-json-format.html">JSON</a> input
as Vespa document operations and sends to a Vespa application.
It parses the content of the input sequentially, and feeds each operation in order.
However, since many operations will be pending at any time,
and because the processing time of an operation varies,
there is no guarantee as to which order operations reach the content nodes.
As this can be important when it comes to operations that apply to the same document id,
there is logic in place to not send an operation for a document id to which there is already a pending operation.
</p><p>
<em>vespa-feeder</em> prints a report at end of feed.
To print this report once a minute, use <em>--verbose</em>:
<pre>
Messages sent to vespa (route default) :
----------------------------------------
PutDocument: ok: 999997 msgs/sec: 411.38 failed: 0 <span style="background-color: yellow;">ignored: 0</span> latency(min, max, avg): 2, 4360, 99
</pre>
<em>ignored</em> reports the number of documents that could not be
routed to any <a href="services-content.html">content clusters</a> because they did not match any of the
<a href="services-content.html#documents">configured document types</a> or selections - examples are:
<ul>
  <li>
    A document type is removed from the application
    and the feed file contains documents with this type
  </li><li>
    One or more selection expressions restrict the documents the cluster accepts,
    and the feed file contains documents that are excluded.
    An example is feeding <a href="../documents.html#document-expiry">expired documents</a> -
    a selection for documents that are less than 30 days old
    and the feed file contains documents that are 30+ days old
  </li>
</ul>
</p><p>
Synopsis: <code>vespa-feeder [--abortondataerror true|false] [--abortonsenderror true|false] [--file arg] [--maxpending arg] [--maxpendingsize arg] [--maxfeedrate arg] [mode standard|benchmark] [--noretry] [--retrydelay arg] [--route arg] [--timeout arg] [--trace arg] [--validate] [--dumpDocuments filename] [priority arg] [--numthreads arg] [create-if-non-existent] [-v,--verbose] filename</code>
</p><p>
Example:
<pre>
$ vespa-feeder file.json
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>--abortondataerror arg</th>
      <td>
        Abort if the input has errors (true|false) - default true.
        Set to <em>false</em> in case the input has errors (e.g. invalid characters).
        <em>vespa-feeder</em> notifies on parsing errors at the end of the feed, but it will not abort
      </td>
    </tr><tr>
      <th>--abortonsenderror arg</th>
      <td>
        Abort if an error occured while sending operations to Vespa (true|false) - default true
      </td>
    </tr><tr>
      <th>--file arg</th>
      <td>
        Input files to read. These can also be passed as arguments without the option prefix.
        If none is given, this tool parses identifiers from stdin
      </td>
    </tr><tr>
      <th>--maxpending arg</th>
      <td>
        Maximum number of pending operations. This disables dynamic throttling, use with care
        <!-- ToDo link to dynamix throttling doc -->
      </td>
    </tr><tr>
      <th>--maxpendingsize arg</th>
      <td>
        Maximum size (in bytes) of pending operations
      </td>
    </tr><tr>
      <th>--maxfeedrate arg</th>
      <td>
        Limits the feed rate to the given number (operations/second)
      </td>
    </tr><tr>
      <th>--mode</th>
      <td>
        The mode to run vespa-feeder in (standard|benchmark) - default standard
      </td>
    </tr><tr>
      <th>--noretry</th>
      <td>
        Disables retries of recoverable failures
      </td>
    </tr><tr>
      <th>--retrydelay arg</th>
      <td>
        The time (in seconds) to wait between retries of a failed operation. Default 1
      </td>
    </tr><tr>
      <th>--route arg</th>
      <td>
        The <a href="../routing.html">route</a> to send the data to. Default the the <em>default</em> route
      </td>
    </tr><tr>
      <th>--timeout arg</th>
      <td>
        Time (in seconds) allowed for sending operations. Default 180
      </td>
    </tr><tr>
      <th>--trace arg</th>
      <td>
        Trace level of network traffic. Default 0
      </td>
    </tr><tr>
      <th>--validate</th>
      <td>
        Run validation tool on input files - do not feed
      </td>
    </tr><tr>
        <th>--dumpDocuments &lt;filename&gt;</th>
      <td>
        File where documents in the put are serialized
      </td>
    </tr><tr>
        <th>--priority arg</th>
      <td>
        Set <a href="services.html#clients">priority</a> of sent messages
      </td>
    </tr><tr>
        <th>--numthreads arg</th>
      <td>
        How many threads to use for sending. Default 1
      </td>
    </tr><tr>
        <th>--create-if-non-existent</th>
      <td>
        Enable setting of create-if-non-existent to true on all document updates in the given feed
      </td>
    </tr><tr>
        <th>-v, --verbose</th>
      <td>
        Enable verbose output of progress
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-fileheader-inspect">vespa-fileheader-inspect</h2-->
<!--h2 id="vespa-fsadump">vespa-fsadump</h2-->
<!--h2 id="vespa-fsainfo">vespa-fsainfo</h2-->
<!--h2 id="vespa-gbdt-converter">vespa-gbdt-converter</h2-->
<!--h2 id="vespa-gen-testdocs">vespa-gen-testdocs</h2-->



<h2 id="vespa-get">vespa-get</h2>
<p>
<em>vespa-get</em> retrieves documents from a Vespa content cluster, and prints to <em>stdout</em>.
<em>vespa-get</em> retrieves documents identified by the document ids passed as command line arguments.
If no document ids are passed through the command line interface,
ids will be read from <em>stdin</em> - separated by line breaks.
</p><p>
Synopsis: <code>vespa-get &lt;options&gt; [documentid...]</code>
</p><p>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-a,--trace <em>tracelevel</em></th>
      <td>Trace level to use (default 0)</td>
    </tr><tr>
      <th>-c,--configid <em>configid</em></th><!-- ToDo link to config id -->
      <td>Use the specified config id for messagebus configuration</td>
    </tr><tr>
      <th>-f,--fieldset <em>fieldset</em></th>
      <td>Retrieve the specified fields only
        (see <a href="../documents.html#fieldsets">Document field sets</a>) (default '[all]')</td>
    </tr><tr>
      <th>-h,--help</th>
      <td>Show this syntax page</td>
    </tr><tr>
      <th>-i,--printids</th>
      <td>Show only identifiers of retrieved documents</td>
    </tr><tr>
      <th>-j,--jsonoutput</th>
      <td>JSON output (default)</td>
    </tr><tr>
      <th>-l,--loadtype <em>loadtype</em></th><!-- ToDo link to loadtypes -->
      <td>Load type (default "")</td>
    </tr><tr>
      <th>-n,--noretry</th>
      <td>Do not retry operation on transient errors, as is default</td>
    </tr><tr>
      <th>-p,--priority <em>priority</em></th>
      <td>Priority (default 6)</td>
    </tr><tr>
      <th>-r,--route <em>route</em></th>
      <td>Send request to the given messagebus route</td>
    </tr><tr>
      <th>-s,--showdocsize</th>
      <td>Show binary size of document</td>
    </tr><tr>
      <th>-t,--timeout <em>timeout</em></th>
      <td>Set timeout for the request in seconds (default 0)</td>
    </tr><tr>
      <th>-u,--cluster <em>cluster</em></th>
      <td>Send request to the given content cluster</td>
    </tr><tr>
      <th>-x,--xmloutput</th>
      <td>XML output</td>
    </tr><tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-get-cluster-state">vespa-get-cluster-state</h2-->



<h2 id="vespa-get-config">vespa-get-config</h2>
<p>
<em>vespa-get-config</em> is a command line tool to get configuration
from a <a href="../cloudconfig/configuration-server.html">config server</a>
or <a href="config-proxy.html">config proxy</a>.
By default it connects to the config proxy on localhost, fetches config from its cache
and prints the config payload on stdout.
Configuration is addressed using name and <a href="../cloudconfig/configapi-dev.html#config-id">configId</a>.
If configId is omitted, the global and default data for that name is returned.
The default port number is 19090, the config proxy's port - use 19070 to access a  config server.
Also check <a href="files-processes-and-ports.html">ports</a>.
</p><p>
Synopsis: <code>vespa-get-config -n defName -i configId &lt;option&gt; [args]</code>
</p><p>
Example:
<pre>
$ vespa-get-config -n container.statistics -i search/cluster.search
</pre>
</p><p>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-n</th>
      <td>
        config definition name, including namespace (on the form &lt;namespace&gt;.&lt;name&gt;)
      </td>
    </tr><tr>
      <th>-i</th>
      <td>
        config id, optional
      </td>
    </tr><tr>
      <th>-a</th>
      <td>
        config def schema file, optional (if you want to use another schema than known for the config server)
      </td>
    </tr><tr>
      <th>-m</th>
      <td>
        defMd5, optional
      </td>
    </tr><tr>
      <th>-c</th>
      <td>
        configMd5, optional
      </td>
    </tr><tr>
      <th>-t</th>
      <td>
        server timeout, in seconds, default value 3, optional
      </td>
    </tr><tr>
      <th>-w</th>
      <td>
        timeout, default value 10, optional
      </td>
    </tr><tr>
      <th>-s</th>
      <td>
        server hostname, default localhost, optional
      </td>
    </tr><tr>
      <th>-p</th>
      <td>
        port, default 19090, optional
      </td>
    </tr><tr>
      <th>-d</th>
      <td>
        debug mode, optional
      </td>
    </tr><tr>
      <th>-h</th>
      <td>
        help text and usage
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-get-node-state">vespa-get-node-state</h2-->



<h2 id="vespa-index-inspect">vespa-index-inspect</h2>
<p>
Use <em>vespa-index-inspect</em> to inspect indexed data -
useful when troubleshooting <a href="../query-rewriting.html">query rewriting</a>.
It shows posting list information (per token or all/range), or dumps the indexed tokens:
<pre>
vespa-index-inspect showpostings [--indexdir indexDir] --field field word

vespa-index-inspect showpostings [--indexdir indexDir] [--field field] --transpose \
  [--docidlimit docIdLimit] [--mindocid mindocid]

vespa-index-inspect dumpwords [--indexdir indexDir] --field field \
  [--minnumdocs minnumdocs] [--verbose] [--wordnum]
</pre>
Make sure to flush the index before using:
<pre>
$ <a href="#vespa-proton-cmd">vespa-proton-cmd</a> --local triggerFlush
</pre>
</p><p>
Synopsis:<code>vespa-index-inspect showpostings|dumpwords [--indexdir path] [--field fieldname] [--transpose] [--minnumdocs count] [--docidlimit docIdLimit] [--mindocid mindocid] [--verbose] [--wordnum] [word]</code>
</p><p>
Example:
<pre>
$ vespa-index-inspect dumpwords \
  --indexdir /opt/vespa/var/db/vespa/search/cluster.music/n0/documents/music/0.ready/index/index.flush.1 \
  --field title
bad	2
so	1
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>--indexdir <em>path</em></th>
      <td>Index location</td>
    </tr><tr>
      <th>--field <em>fieldname</em></th>
      <td>Field to analyze</td>
    </tr><tr>
      <th>--transpose</th>
      <td>Dump all tokens</td>
    </tr><tr>
      <th>--minnumdocs <em>count</em></th>
      <td>Minimum number of documents to analyze</td>
    </tr><tr>
      <th>--docidlimit <em>docid</em></th>
      <td>Dump up to this doc id</td>
    </tr><tr>
      <th>--mindocid <em>docid</em></th>
      <td>Start from this docid</td>
    </tr><tr>
      <th>--wordnum</th>
      <td>Also dump token numbers</td>
    </tr><tr>
      <th>--verbose</th>
      <td>Verbose output</td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-log-conv">vespa-log-conv</h2-->
<!--h2 id="vespa-logctl">vespa-logctl</h2-->



<h2 id="vespa-logfmt">vespa-logfmt</h2>
<p>
<code>vespa-logfmt</code> reads Vespa log files, selects messages,
and writes a formatted version of these messages to standard output.
If no file argument is given, vespa-logfmt will read the last Vespa log
file <code>$VESPA_HOME/logs/vespa/vespa.log</code>
(this also works with the <code>-f</code> option).
Otherwise, reads only the files given as arguments.
To read standard input, supply a single dash ’-’ as a file argument.
Refer to the <a href="logs.html">logs reference</a>.
</p><p>
Synopsis: <code>
vespa-logfmt [-l levellist ] [-s fieldlist ] [-p pid ] [-S service ] [-H host ]
[-c regex ] [-m regex ] [-f ] [-N ] [-t ] [-ts ] [file &hellip;]</code>
</p><p>
Examples:
</p><p>
Display only messages with log level "event", printing a
human-readable time (without any fractional seconds),
the service generating the event and the event message:
<pre>
$ vespa-logfmt -l event -s fmttime,service,message
...
[2017-09-05 06:16:16] config-sentinel  stopped/1 name="sbin/vespa-config-sentinel -c hosts/vespa-container (pid 1558)" pid=1558 exitcode=1
[2017-09-05 06:16:16] config-sentinel  starting/1 name="sbin/vespa-config-sentinel -c hosts/vespa-container (pid 1564)"
[2017-09-05 06:16:16] config-sentinel  started/1 name="config-sentinel"
[2017-09-05 06:17:00] configserver     count/1 name=configserver.failedRequests value=0
[2017-09-05 06:17:00] configserver     count/1 name=procTime value=0
[2017-09-05 06:17:00] configserver     count/1 name=configserver.requests value=0
</pre>
Display messages with log levels that are <em>not</em> any of
<em>info, debug,</em> or <em>event,</em> printing the time in seconds
and microseconds, the log level, the component name, and the message text:
<pre>
$ vespa-logfmt -l all-info,-debug -s level -s time,usecs,component,message -t -l -event
...
1504592294.738000 WARNING : configproxy.com No config found for name=sentinel,namespace=cloud.config,configId=hosts/vespa-container within timeout, will retry
1504592296.388000 WARNING : configproxy.com Request callback failed: APPLICATION_NOT_LOADED. Connection spec: tcp/localhost:19070, error message: Failed request (No application exists) from Connection { Socket[addr=/127.0.0.1,port=37806,localport=19070] }
1504592307.949461 WARNING : config-sentinel Connection to tcp/localhost:19090 failed or timed out
1504592307.949587 WARNING : config-sentinel FRT Connection tcp/localhost:19090 suspended until 2017-09-05 06:19:07 GMT
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th style="white-space:nowrap;">-l <em>levellist</em> (--level=<em>levellist</em>)</th>
      <td>
        Filter messages by log level. By default only messages of
        level <em>fatal, error, warning</em>, and <em>info</em> will be
        included, while messages of level <em>config, event, debug</em>,
        and <em>spam</em> will be ignored. This option allows you to replace
        or modify the list of log levels to be included.
        <em>levellist</em> is a comma separated list of level names.
        <ul>
          <li>The name <em>all</em> may be used to add all known levels</li>
          <li>You may use + or - in front of terms to add or remove from the
            current (or default) list of levels instead of replacing it</li>
          <li>Adding term</li>
        </ul>
      </td>
    </tr><tr>
      <th>-s <em>fieldlist</em></th>
      <td>Select which fields of log messages to show.
        The output field order is fixed.
        When using this option, only the named fields will be printed.
        The default fields are as
        [<strong>-s fmttime,msecs,level,service,component,message</strong>].
        The fieldlist is a comma separated list of field names.
        The name <em>all</em> may be used to add all possible fields.
        Prepending a minus sign will turn off display of the named field.
        Starting the list with a plus sign will add and remove fields
        from the current (or default) list of fields instead of replacing it.
        Using this option several times works as if the given <em>fieldlist</em> arguments
        had been concatenated into one comma-separated list. Fields:
        <table class="table">
          <thead></thead><tbody>
            <tr>
              <th>time</th>
              <td>
                Print the time in seconds since the epoch.
                Ignored if <em>fmttime</em> is shown
              </td>
            </tr><tr>
              <th>fmttime</th>
              <td>
                Print the time in human-readable [YYYY-MM-DD HH:mm:ss] format.
                Note that the time is printed in the local timezone;
                to get GMT output, use <code>env TZ=GMT vespa-logfmt</code>
              </td>
            </tr><tr>
              <th>msecs</th>
              <td>
                Add milliseconds after the seconds in <em>time</em> and
                <em>fmttime</em> output. Ignored if <em>usecs</em> is in effect
              </td>
            </tr><tr>
              <th>usecs</th>
              <td>
                Add microseconds after the seconds in <em>time</em> and <em>fmttime</em> output
              </td>
            </tr><tr>
              <th>host</th>
              <td>
                Print the hostname field
              </td>
            </tr><tr>
              <th>level</th>
              <td>
                Print the level field (uppercased)
              </td>
            </tr><tr>
              <th>pid</th>
              <td>
                Print the pid field
              </td>
            </tr><tr>
              <th>service</th>
              <td>
                Print the service field
              </td>
            </tr><tr>
              <th>component</th>
              <td>
                Print the component field
              </td>
            </tr><tr>
              <th>message</th>
              <td>
                Print the message text field. You probably always want to add this
              </td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr><tr>
      <th>-p <em>pid</em></th>
      <td>
        Select messages where the pid field matches the <em>pid</em> string
      </td>
    </tr><tr>
      <th>-S <em>service</em></th>
      <td>
        Select messages where the service field matches the <em>service</em> string
      </td>
    </tr><tr>
      <th>-H <em>host</em></th>
      <td>
        Select messages where the hostname field matches the <em>host</em> string
      </td>
    </tr><tr>
      <th>-c <em>regex</em></th>
      <td>
        Select messages where the component field matches the <em>regex</em>,
        using perlre regular expression matching
      </td>
    </tr><tr>
      <th>-m <em>regex</em></th>
      <td>
        Select messages where the message text field matches the <em>regex</em>,
        using perlre regular expression matching
      </td>
    </tr><tr>
      <th>-f</th>
      <td>
        Invoke tail -F to follow input file
      </td>
    </tr><tr>
      <th>-N</th>
      <td>
        Dequote quoted newlines in the message text field to an actual newline plus tab
      </td>
    </tr><tr>
      <th>-t</th>
      <td>
        Format the component field (if shown) as a fixed-width string, truncating if necessary
      </td>
    </tr><tr>
      <th>-ts</th>
      <td>
        Format the service field (if shown) as a fixed-width string, truncating if necessary
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-log-replay">vespa-log-replay</h2-->



<h2 id="vespa-makefsa">vespa-makefsa</h2>
<p>
Use <em>vespa-makefsa</em> to compile a list of phrases into a <em>finite state automation</em> (FSA) file.
FSA files are used in <a href="../query-rewriting.html">query phrasing and rewriting</a>.
</p><p>
If input file is not specified, standard input is used.
</p><p>
Synopsis: <code>vespa-makefsa [-h] [-b] [-B] [-e] [-n] [-s bytes] [-z bytes] [-t] [-p] [-i] [-S serial] [-v] [-V] [input_file] output_file</code>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-h</th>
      <td>
        Help text
      </td>
    </tr><tr>
      <th>-b</th>
      <td>
        Use binary input format with Base64 encoded info
      </td>
    </tr><tr>
      <th>-B</th>
      <td>
        Use binary input format with raw
      </td>
    </tr><tr>
      <th>-e</th>
      <td>
        Use text input format with no info (default)
      </td>
    </tr><tr>
      <th>-n</th>
      <td>
        Use text input format with (unsigned) numerical info
      </td>
    </tr><tr>
      <th>-s bytes</th>
      <td>
        Data size for numerical info: 1,2 or 4(default)
      </td>
    </tr><tr>
      <th>-z bytes</th>
      <td>
        Data size for binary info (-B) (0 means NUL terminated)
      </td>
    </tr><tr>
      <th>-t</th>
      <td>
        Use text input format
      </td>
    </tr><tr>
      <th>-p</th>
      <td>
        Build automaton with perfect hash
      </td>
    </tr><tr>
      <th>-i</th>
      <td>
        Ignore info string, regardless of input format
      </td>
    </tr><tr>
      <th>-S serial</th>
      <td>
        Serial number
      </td>
    </tr><tr>
      <th>-v</th>
      <td>
        Verbose
      </td>
    </tr><tr>
      <th>-V</th>
      <td>
        Display version
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-malloc-parse-memorydump.pl">vespa-malloc-parse-memorydump.pl</h2-->



<h2 id="vespa-model-inspect">vespa-model-inspect</h2>
<p>
<em>vespa-model-inspect</em> is a tool for inspecting the topology and services of a Vespa system.
Hosts, services, clusters, ports, URLs and config ids can be inspected.
It can run on any machine in a Vespa cluster that is running a Vespa configuration server.
</p><p>
Synopsis: <code>vespa-model-inspect [-c host | host:port] [-t tag] [-h] [-u] [-v] command</code>
</p><p>
Commands:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>hosts</th>
      <td>
        Show hostnames of all hosts in the Vespa system
      </td>
    </tr><tr>
      <th>services</th>
      <td>
        Show a list of all service types in the Vespa system
      </td>
    </tr><tr>
      <th>clusters</th>
      <td>
        Show a list of all named clusters in the Vespa system
      </td>
    </tr><tr>
      <th>configids</th>
      <td>
        Show a list of all config ids in the Vespa system
      </td>
    </tr><tr>
      <th>filter:ports</th>
      <td>
        List ports matching filter options
      </td>
    </tr><tr>
      <th>host</code> <em>hostname</em></th>
      <td>
        Show host details: What services are running, and what ports have they allocated
      </td>
    </tr><tr>
      <th>service</code> <em>servicetype</em></th>
      <td>
        Show service details: What instances of the service are running,
        on what hosts, and what ports have they allocated
      </td>
    </tr><tr>
      <th>cluster</code> <em>clustername</em></th>
      <td>
        Show all services in the cluster, with details on hostname and allocated ports
      </td>
    </tr><tr>
      <th>configid</code> <em>configid</em></th>
      <td>
        Show all services using this configid
      </td>
    </tr><tr>
      <th>get-index-of</code> <em>servicetype</em> <em>host</em></th>
      <td>
        Show all indexes for instances of the service type on the given host
      </dd>
    </tr>
  </tbody>
</table>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th style="white-space:nowrap;">-c <em>host</em> | <em>host:port</em></th>
      <td>
        Specify host and port (or just host) to use for getting the config that this tool displays.
        Default is to use the configserver.
        You might want to use localhost:19090 if you are on a host with
        a running Vespa system without a config server
      </td>
    </tr><tr>
      <th>-h</th>
      <td>
        Show usage
      </td>
    </tr><tr>
      <th>-t <em>tag</em></th>
      <td>
        to filter on a port tag
      </td>
    </tr><tr>
      <th>-u</th>
      <td>
        Show URLs for services
      </td>
    </tr><tr>
      <th>-v</th>
      <td>
        Verbose mode
      </td>
    </tr>
  </tbody>
</table>
Examples:
<pre>
$ vespa-model-inspect hosts
mynode.mydomain.com

$ vespa-model-inspect services
config-sentinel
configproxy
configserver
container
container-clustercontroller
distributor
docprocservice
filedistributorservice
logd
logserver
searchnode
slobrok
storagenode
topleveldispatch
transactionlogserver

$ vespa-model-inspect -u service distributor
distributor @ myhost.mydomain.com : content
myapp/distributor/4
    tcp/myhost1.mydomain.com:19112 (MESSAGING)
    tcp/myhost1.mydomain.com:19113 (STATUS RPC)
    http://myhost1.mydomain.com:19114/ (STATE STATUS HTTP)
distributor @ myhost2.mydomain.com : content
myapp/distributor/5
    tcp/myhost2.mydomain.com:19112 (MESSAGING)
    tcp/myhost2.mydomain.com:19113 (STATUS RPC)
    http://myhost2.mydomain.com:19114/ (STATE STATUS HTTP)
distributor @ myhost3.mydomain.com : content
</pre>
</p>



<!--h2 id="vespa-ping-configproxy">vespa-ping-configproxy</h2-->
<!--h2 id="vespa-print-default">vespa-print-default</h2-->



<h2 id="vespa-proton-cmd">vespa-proton-cmd</h2>
Use <em>vespa-proton-cmd</em> to send commands to a search node.
</p><p>
The <em>hostspec</em> argument is one of (port|spec|--local|--id=name)
</p><p>
Synopsis: <code>vespa-proton-cmd HOSTSPEC COMMAND [ARGS]</code>
</p><p>
Use <a href="#vespa-model-inspect">vespa-model-inspect</a> to locate the search node ADMIN RPC port:
<pre>
$ vespa-model-inspect service searchnode
searchnode @ /mynode.myhost.com : search
music/search/cluster.music/0
    tcp/mynode.myhost.com:19108 (STATUS ADMIN RTC RPC)
    tcp/mynode.myhost.com:19109 (FS4)
    tcp/mynode.myhost.com:19110 (TEST HACK SRMP)
    tcp/mynode.myhost.com:19111 (ENGINES-PROVIDER RPC)
    tcp/mynode.myhost.com:19112 (STATE HEALTH JSON HTTP)
</pre>
Example:
<pre>
$ vespa-proton-cmd 19108 triggerFlush
  OK: flush trigger enabled
</pre>
Unless the <strong>-h</strong> or <strong>--help</strong> option is used,
one of these commands must be present:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>die</th>
      <td>
        Exit the proton application without cleanup
      </td>
    </tr><tr>
      <th>getConfigTime</th>
      <td>
        Get the oldest active config timestamp
      </td>
    </tr><tr>
      <th>getProtonStatus</th>
      <td>
        Get the current state of proton and its components
      </td>
    </tr><tr>
      <th>getState</th>
      <td>
        Get the current state of the search node
      </td>
    </tr><tr>
      <th>listDocTypes</th>
      <td>
        Get the current list of document types
      </td>
    </tr><tr>
      <th style="white-space:nowrap;">listSchema documentType</th>
      <td>
        Get the current schema for the given document type
      </td>
    </tr><tr>
      <th>monitor</th>
      <td>
        Get search node state changes since last invocation
      </td>
    </tr><tr>
      <th>triggerFlush</th>
      <td>
        Tell the search node to trigger flush as soon as possible for all document types
      </td>
    </tr><tr>
      <th>prepareRestart</th>
      <td>
        Tell the search node to prepare for a restart by flushing a set of components to disk
        such that the time it takes to flush these components plus the time it takes to replay the
        <a href="../proton.html#transaction-log">transaction log</a> after restart is as low as possible
      </td>
    </tr><tr>
      <th>wipeHistory</th>
      <td>Tell the search node to wipe history of previously removed fields</td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-query-profile-dump-tool">vespa-query-profile-dump-tool</h2-->
<!--h2 id="vespa-ranking-expression-analyzer">vespa-ranking-expression-analyzer</h2-->



<h2 id="vespa-remove-index">vespa-remove-index</h2>
<p>
<em>vespa-remove-index</em> is a command line tool to remove index data on a Vespa search node,
by wiping out selected files and subdirectories found in <em>$VESPA_HOME/var/db/vespa/</em>.
This process is irreversible and the indexes deleted can not be recovered.
</p><p>
Stop <em>services</em> before running it - example:
<pre>
$ vespa-stop-services &amp;&amp; vespa-remove-index -force &amp;&amp; vespa-start-services    
</pre>
</p><p>
Synopsis:<code>vespa-remove-index [-force] [-cluster name]</code>
</p><p>
Example:
<pre>
$ vespa-remove-index
[info] For cluster music distribution key 0 you have:
[info] 156 kilobytes of data in var/db/vespa/search/cluster.music/n0
Really to remove this vespa index? Type "yes" if you are sure ==> yes
[info] removing data:  rm -rf var/db/vespa/search/cluster.music/n0
[info] removed.
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-force</th>
      <td>
        Do not require verification from the user before really removing index data
      </td>
    </tr><tr>
      <th>-cluster <em>name</em></th>
      <td>
        Only remove data for given cluster name
      </td>
    </tr>
  </tbody>
</table>
</p>






<h2 id="vespa-route">vespa-route</h2>
<p>
<em>vespa-route</em> is a  tool to inspect Vespa routing configurations.
If file is set, it will be parsed as a feed
and the output will look similar to when using <a href="../document-api.html">Document API</a>
with trace enabled.
</p><p>
Synopsis: <code>vespa-route [options] [file]</code>
</p><p>
Example:
<pre>
$ vespa-route
There are 5 route(s):
    1. default
    2. music
    3. music-direct
    4. music-index
    5. storage/cluster.music

There are 2 hop(s):
    1. docproc/cluster.music.indexing/chain.indexing
    2. indexing
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>--documentmanagerconfigid &lt;id&gt;</th>
      <td>
        Sets the config id that supplies document configuration
      </td>
    </tr><tr>
      <th>--dump</th>
      <td>
        Prints the complete content of the routing table
      </td>
    </tr><tr>
      <th>--help</th>
      <td>
        Prints this help</td>
    </tr><tr>
      <th>--hop &lt;name&gt;</th>
      <td>
        Prints detailed information about hop &lt;name&gt;
      </td>
    </tr><tr>
      <th>--hops</th>
      <td>
        Prints a list of all available hops</td>
    </tr><tr>
      <th>--identity &lt;id&gt;</th>
      <td>
        Sets the identity of message bus</td>
    </tr><tr>
      <th>--listenport &lt;num&gt;</th>
      <td>
        Sets the port message bus will listen to</td>
    </tr><tr>
      <th>--oosserverpattern &lt;id&gt;</th>
      <td>
        Sets the out-of-service server pattern for message bus
      </td>
    </tr><tr>
      <th>--protocol &lt;name&gt;</th>
      <td>
        Sets the name of the protocol whose routing to inspect</td>
    </tr><tr>
      <th>--route &lt;name&gt;</th>
      <td>
        Prints detailed information about route &lt;name&gt;</td>
    </tr><tr>
      <th>--routes</th>
      <td>
        Prints a list of all available routes</td>
    </tr><tr>
      <th>--routingconfigid &lt;id&gt;</th>
      <td>
        Sets the config id that supplies the routing tables</td>
    </tr><tr>
      <th>--services</th>
      <td>
        Prints a list of all available services</td>
    </tr><tr>
      <th>--slobrokconfigid &lt;id&gt;</th>
      <td>
        Sets the config id that supplies the slobrok server list</td>
    </tr><tr>
      <th>--trace &lt;num&gt;</th>
      <td>
        Sets the trace level to use when visualizing route
      </td>
    </tr><tr>
      <th>--verify</th>
      <td>
        All hops and routes are verified when routing
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-rpc-info">vespa-rpc-info</h2-->



<h2 id="vespa-rpc-invoke">vespa-rpc-invoke</h2>
<!-- ToDo: this should be better documented -->
<p>
Refer to <a href="../inspecting-java-services.html#debug-interface">vespa-rpc-invoke</a>.
</p>



<!--h2 id="vespa-rpc-proxy">vespa-rpc-proxy</h2-->



<h2 id="vespa-sentinel-cmd">vespa-sentinel-cmd</h2>
<p>
Use <em>vespa-sentinel-cmd</em> to list, start and stop services -
refer to <a href="../config-sentinel.html">config sentinel</a> for examples.
</p><p>
Synopsis: <code>vespa-sentinel-cmd [-h] list|start &lt;service&gt;|restart &lt;service&gt;|stop &lt;service&gt;</code>
</p><p>
Options:
<table class="table">
    <thead></thead><tbody>
        <tr>
            <th>-h</th><td>Help text</td>
        </tr>
    </tbody>
</table>
Commands:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>list</th>
      <td>
        Lists the services running on this node and their status
      </td>
    </tr>
    <tr>
      <th>restart [name]</th>
      <td>
        Restarts the service with the given name.
        The name is the first string in the service list given by <code>list</code>
      </td>
    </tr>
    <tr>
      <th style="white-space: nowrap">stop [name]</th>
      <td>Stops the service with the given name</td>
    </tr>
    <tr>
      <th>start [name]</th>
      <td>
        Starts the service with the given name
      </td>
    </tr>
  </tbody>
</table>
Output - each line has the following fields:
<table class="table">
    <thead></thead><tbody>
        <tr>
            <th style="white-space: nowrap">service name</th><td></td>
        </tr>
        <tr>
            <th>state</th>
            <td>
                <ul>
                    <li>RUNNING: Service is running</li>
                    <li>FINISHED: Service has been stopped</li>
                    <li>FAILED: Service has crashed and failed to restart</li>
                    <li>TERMINATING: Service is stopping</li>
                </ul>
            </td>
        </tr>
        <tr>
            <th>mode</th>
            <td>
                <ul>
                    <li>MANUAL: Service has to be started and stopped manually</li>
                    <li>AUTO: Service will restart automatically if it stops</li>
                </ul>
            </td>
        </tr>
        <tr>
            <th>pid</th>
            <td>Pid of the process (main thread)</td>
        </tr>
        <tr>
            <th>exitstatus</th>
            <td>
                Exit code last time service stopped.
            </td>
        </tr>
        <tr>
            <th>id</th>
            <td><a href="../cloudconfig/configapi-dev.html#config-id">Config ID</a> of the service</td>
        </tr>
    </tbody>
</table>
</p>



<!--h2 id="vespa-set-node-state">vespa-set-node-state</h2-->
<!--h2 id="vespa-slobrok-cmd">vespa-slobrok-cmd</h2-->
<!--h2 id="vespa-spoolmaster">vespa-spoolmaster</h2-->


<h2 id="vespa-stat">vespa-stat</h2>
<p>
<em>vespa-stat</em> is a tool to fetch statistics about a specific user, group, bucket, gid or document.

vespa-stat works in two stages.
The first stage is to figure out the actual buckets we want to look at.
In the second stage, it can dump the located buckets.
For each command line option, only the relevant documents will be dumped
(the document for <code>--document/--gid</code>, or the user/group's documents for <code>--user/--group</code>).
This stage can be turned on by adding <code>--dump</code>,
but is default on for the case of <code>--document/--gid</code>.
</p><p>
Synopsis: <code>vespa-stat [options]</code>
</p><p>
Example:
<pre>
$ vespa-stat --document id:my_namespace:my_search::12345678-4fb7-3797-ae9a-d4d7a4e6e085
Bucket maps to the following actual files:
	BucketInfo(BucketId(0x4000000000004800): [distributor:17] [node(idx=17,crc=0xe5ce35c7,docs=57/57,bytes=478040/478040,trusted=true,active=true,ready=true),  node(idx=15,crc=0xe5ce35c7,docs=57/57,bytes=478040/478040,trusted=true,active=true,ready=true)])

Details for BucketId(0x4000000000004800):
	Bucket information from node 15:
Persistence bucket BucketId(0x4000000000004800), partition 0
  Timestamp: 1452598747000000, Doc(id:my_namespace:my_search::12345678-4fb7-3797-ae9a-d4d7a4e6e085), gid(0x0048e840a48002b12abbb0a0), size: 101

	Bucket information from node 17:
Persistence bucket BucketId(0x4000000000004800), partition 0
  Timestamp: 1452598747000000, Doc(id:my_namespace:my_search::12345678-4fb7-3797-ae9a-d4d7a4e6e085), gid(0x0048e840a48002b12abbb0a0), size: 101
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-b, --bucket &lt;bucketid&gt;</th>
      <td>
        Dump list of buckets that are contained in the given bucket, or that contain it
      </td>
    </tr><tr>
      <th> -d, --dump</th>
      <td>
        Dump list of documents for all buckets matching the selection command.
      </td>
    </tr><tr>
      <th>-g, --group &lt;groupid&gt;</th>
      <td>
          Dump list of buckets that can contain the given group
      </td>
    </tr><tr>
      <th>-h, --help</th>
      <td>
        Help text
      </td>
    </tr><tr>
      <th>-l, --gid &lt;globalid&gt;</th>
      <td>
        Dump information about one specific document, as given by the GID (implies --dump)
      </td>
    </tr><tr>
      <th>-o, --document &lt;docid&gt;</th>
      <td>
          Dump information about one specific document (implies --dump)
      </td>
    </tr><tr>
      <th> -r, --route &lt;route&gt;</th>
      <td>
          Route to send the messages to, usually the name of the storage cluster
      </td>
    </tr><tr>
      <th> -s, --bucketspace &lt;space&gt;</th>
      <td>
          <a href="../content/buckets.html#bucket-space">Bucket space</a>
          (<em>default</em> or <em>global</em>). If not specified, <em>default</em> is used
      </td>
    </tr><tr>
      <th> -u, --user &lt;userid&gt;</th>
      <td>
          Dump list of buckets that can contain the given user
      </td>
    </tr>
  </tbody>
</table>
</p>



<h2 id="vespa-status-filedistribution">vespa-status-filedistribution</h2>
<p>
Use <em>vespa-status-filedistribution</em> to get status from file distribution.
</p><p>
Synopsis: <code>vespa-status-filedistribution [--application <applicationNameArg>]
  [--debug] [--environment <environmentArg>] [(-h | --help)]
  [--instance <instanceNameArg>] [--region <regionArg>]
  [--tenant <tenantNameArg>] [--timeout <timeoutArg>]</code>
</p><p>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>--application &lt;applicationName&gt;</th>
      <td>
        Application name
      </td>
    </tr><tr>
      <th>--debug</th>
      <td>
        Print debug log
      </td>
    </tr><tr>
      <th>--environment &lt;environment&gt;</th>
      <td>
        Environment name
      </td>
    </tr><tr>
      <th>-h, --help</th>
      <td>
        Display help information
      </td>
    </tr><tr>
      <th>--instance &lt;instanceName&gt;</th>
      <td>
        Instance name
      </td>
    </tr><tr>
      <th>--region &lt;regionName&gt;</th>
      <td>
        Region name
      </td>
    </tr><tr>
      <th>--tenant &lt;tenantName&gt;</th>
      <td>
        Tenant name
      </td>
    </tr><tr>
      <th>--timeout &lt;timeout&gt;</th>
      <td>
        timeout (in seconds)
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-summary-benchmark">vespa-summary-benchmark</h2-->
<!--h2 id="vespa-transactionlog-inspect">vespa-transactionlog-inspect</h2-->
<!--h2 id="vespa-treenet-converter">vespa-treenet-converter</h2-->
<!--h2 id="vespa-validate-application">vespa-validate-application</h2-->
<!--h2 id="vespa-verify-logdatastore">vespa-verify-logdatastore</h2-->
<!--h2 id="vespa-verify-ranksetup">vespa-verify-ranksetup</h2-->





<h2 id="vespa-visit">vespa-visit</h2>
<p>
Refer to <a href="../content/visiting.html">visiting</a>.
</p><p>
Synopsis: <code>vespa-visit [options]</code>
</p><p>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th style="width:300px">--abortonclusterdown</th>
      <td>Abort if cluster is down</td>
    </tr><tr>
      <th>-b, --maxbuckets &lt;num&gt;</th>
      <td>Maximum buckets per visitor</td>
    </tr><tr>
      <th>--bucketspace &lt;space&gt;</th>
      <td>
        <a href="../content/buckets.html#bucket-space">Bucket space</a> to visit
        (<em>default</em> or <em>global</em>). If not specified, <em>default</em> is used
      </td>
    </tr><tr>
      <th>-c, --cluster &lt;cluster&gt;</th>
      <td>Visit the given cluster</td>
    </tr><tr>
      <th>-d, --datahandler &lt;target&gt;</th>
      <td>Send results to the given target</td> <!-- ToDo document vespa-visit-target below and link to it -->
    </tr><tr>
      <th>-f, --from &lt;timestamp&gt;</th>
      <td>Only visit from the given timestamp (microseconds)</td>
    </tr><tr>
      <th>-h, --help</th>
      <td>Show help text</td>
    </tr><tr>
      <th>-i, --printids</th>
      <td>Display only document identifiers</td>
    </tr><tr>
      <th>--jsonoutput</th>
      <td>Output documents as JSON (default format)</td> <!-- ToDo: remove this? -->
    </tr><tr>
      <th>-l, --fieldset &lt;fieldset&gt;</th>
      <td>
        Retrieve the specified fields only, see <a href="../documents.html#fieldsets">fieldsets</a>.
        Default is <em>[all]</em>
      </td>
    </tr><tr>
      <th>--libraryparam &lt;key&gt; &lt;val&gt;</th>
      <td>Send parameter to the visitor library</td>
    </tr><tr>
      <th>-m, --maxpending &lt;num&gt;</th>
      <td>Maximum pending messages to data handlers per storage visitor</td>
    </tr><tr>
      <th>--maxpendingsuperbuckets &lt;num&gt;</th>
      <td>
        Maximum pending visitor messages from the vespa-visit client.
        If set, dynamic throttling of visitors is disabled <!-- ToDo: link to somewhere documenting throttling -->
      </td>
    </tr><tr>
      <th>--maxtotalhits &lt;num&gt;</th>
      <td>
        Abort visiting when received this many total documents.
        This is only an approximate number,
        all pending work will be completed and those documents will also be returned
      </td>
    </tr><tr>
      <th>-o, --timeout &lt;milliseconds&gt;</th>
      <td>Time out visitor after given time</td>
    </tr><tr>
        <th>-p, --progress &lt;file&gt;</th>
      <td>Use given file to track progress</td>
    </tr><tr>
      <th>--priority &lt;name&gt;</th>
      <td>
        Visitor <a href="services.html#clients">priority</a>. Defaults to NORMAL_3.
        Use with care to avoid starving lower prioritized traffic in the cluster
      </td>
    </tr><tr>
      <th>--processtime &lt;num&gt;</th>
      <td>
        Sleep this amount of millisecs before processing message.
        (Debug option for pretending to be slow client)
      </td>
    </tr><tr>
      <th>-r, --visitremoves</th>
      <td>Include information of removed documents</td>
    </tr><tr>
      <th>-s, --selection &lt;selection&gt;</th>
      <td><a href="document-select-language.html">Selection</a> string for which documents to visit</td>
    </tr><tr>
      <th>--skipbucketsonfatalerrors</th>
      <td>Skip visiting super buckets with fatal error codes</td>
    </tr><tr>
      <th>-t, --to &lt;timestamp&gt;</th>
      <td>Only visit up to the given timestamp (microseconds)</td>
    </tr><tr>
      <th>--tracelevel &lt;level&gt;</th>
      <td>Tracelevel ([0-9]), for debugging</td>
    </tr><tr>
      <th>-u, --buckettimeout &lt;milliseconds&gt;</th>
      <td>Fail visitor if visiting a single bucket takes longer than this (default same as timeout)</td>
    </tr><tr>
      <th>-v, --verbose</th>
      <td>Show progress and info on STDERR</td>
    </tr><tr>
      <th>--visitinconsistentbuckets</th>
      <td>Don't wait for inconsistent buckets to become consistent</td>
    </tr><tr>
      <th>--visitlibrary &lt;string&gt;</th>
      <td>Use the given visitor library</td>
    </tr><tr>
      <th>-x, --xmloutput</th>
      <td>DEPRECATED: Output documents as XML</td>
    </tr>
  </tbody>
</table>
</p>

<!--h2 id="vespa-visit">vespa-visit-target</h2--> <!-- linked from content/visiting.html -->
